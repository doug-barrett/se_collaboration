fileVersion: 1
id: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
name: STG_DIM_CUSTOMER
operation:
  config:
    insertStrategy: INSERT
    postSQL: ""
    preSQL: ""
    testsEnabled: true
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: Customer data as defined by TPC-H
  isMultisource: false
  locationName: STAGE
  materializationType: view
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b5d2e568-4b1c-4d47-b845-9c18d49e45b6
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: STRING
        description: ""
        hashDetails: null
        name: H_CUSTOMER_KEY
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 211ce28a-4f9c-425a-a365-cc646a1f8bde
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c94dabcc-a98c-4862-930f-94ede5e3dc9a
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashDetails: null
        name: C_NATIONKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0dbd8022-f026-4e86-831e-ac0cddd8acec
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eb9e3511-f9d8-4c45-8905-7b5fd82df0af
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: NUMBER(12,2)
        description: ""
        hashDetails: null
        name: C_ACCTBAL
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 31aa9cbd-cfb0-4bf6-845e-eed9718ad20a
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 17349104-e26c-4ae3-ad28-067160196175
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: STRING
        description: ""
        hashDetails: null
        name: C_ACCTBAL_CAT
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 31aa9cbd-cfb0-4bf6-845e-eed9718ad20a
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: |-
              CASE WHEN "SATV1_CUSTOMER"."C_ACCTBAL" > 5000 THEN 'HIGH'
              ELSE 'LOW'
              END 
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 56c9a8ff-4393-41d1-aae5-ce7aa6301698
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: NUMBER(38,0)
        description: ""
        hashDetails: null
        name: C_CUSTKEY
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 66046a62-acc6-4352-a6d6-a32be25e066c
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e133a1ee-5c91-4481-a6bc-b5bb2c3f003c
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: VARCHAR(25)
        description: ""
        hashDetails: null
        name: CUSTOMER_NAME
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 0bec0e80-2e37-4d66-b1bf-760100467a1f
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: UPPER("SATV1_CUSTOMER"."C_NAME")
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 2ae42fb0-2473-4d79-bff8-eb125cd35ac5
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: VARCHAR(40)
        description: ""
        hashDetails: null
        name: C_ADDRESS
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c6ae0d9d-7272-44fa-bc3b-9b54440d44bc
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 924f789e-b89e-4d02-9861-52355bd8066b
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: VARCHAR(15)
        description: ""
        hashDetails: null
        name: C_PHONE
        nullable: false
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7da1a86c-0f65-4f9f-a15b-808c94ad77df
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: e5dd169c-a8f3-4f03-9d82-cda89343c6f2
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: VARCHAR(10)
        description: ""
        hashDetails: null
        name: C_MKTSEGMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: c84d2c3c-4230-4ae9-a93e-f81dc2698c82
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: d1dfe04a-7142-44bf-add2-4cee3b55b12f
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: VARCHAR(117)
        description: ""
        hashDetails: null
        name: C_COMMENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 352142fd-caaf-4563-9007-f6fdbb6f251d
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 8b61c9b8-9bfa-4859-8cc6-ee04a6764363
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: STRING
        description: ""
        hashDetails: null
        name: S_CUSTOMER_HASH
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 13ea350b-5b90-48a7-bae5-bfaad894a2eb
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: b4d46c70-50bb-43a6-b425-576fc337734b
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: TIMESTAMP
        description: The Load Date Timestamp (LDTS) describes when this data first arrived in the Data Warehouse.
        hashDetails: null
        name: LDTS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: dc47ee1f-7183-4d74-b788-675f4799dc1e
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 452325a6-28c5-41fc-ac05-677829e8614b
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: STRING
        description: The Record Source (RSRC) describes the source of this data.
        hashDetails: null
        name: RSRC
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 842cd9cf-d8d3-45bd-b807-e2a22d14e64a
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: eefe9085-69e7-41bf-9130-8592337efa1a
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: TIMESTAMP
        description: ""
        hashDetails: null
        name: LEDTS
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: db9113d9-7e8f-40ed-90b8-635fef9b6a56
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
      - appliedColumnTests: {}
        columnReference:
          columnCounter: c03c4179-5222-4857-b097-2955d76ddacd
          stepCounter: c3f59d0f-a5b8-45d1-9d50-7c822c7f3a65
        config: {}
        dataType: BOOLEAN
        description: ""
        hashDetails: null
        name: IS_CURRENT
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 7bf53c33-da03-45f5-bf70-b9439ae7c88d
                stepCounter: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
            transform: ""
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases:
          SATV1_CUSTOMER: a7d6ad1b-331a-4fa0-badc-7491ee7bfea8
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DWH
            nodeName: SATV1_CUSTOMER
        join:
          joinCondition: |-
            FROM {{ ref('DWH', 'SATV1_CUSTOMER') }} "SATV1_CUSTOMER"
            WHERE "IS_CURRENT"
        name: STG_DIM_CUSTOMER
        noLinkRefs: []
  name: STG_DIM_CUSTOMER
  overrideSQL: false
  schema: ""
  sqlType: Stage
  type: sql
  version: 1
type: Node
